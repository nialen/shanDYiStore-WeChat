<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=1.0">
    <title>工作汇报查询</title>
    <link rel="stylesheet" href="../../resources/css/reset.css">
    <link rel="stylesheet" href="../../resources/css/common.css">
    <link rel="stylesheet" href="../../resources/css/select.css">
    <link rel="stylesheet" href="../../resources/css/workReportQuery.css">
</head>
<body ng-controller="workReportQueryCtrl" ng-cloak>
    <div class="header">
        <span ng-click="changeReport(1)" ng-class="{'on': flag === 1}">周报</span>
        <span ng-click="changeReport(2)" ng-class="{'on': flag === 2}">月报</span>
    </div> 
    <!-- 周报查询 -->
    <div class="content" ng-show="flag === 1">
        <input type="text" class="txt-two" placeholder="请输入姓名关键字" ng-model="weekName">       
        <ul class="report-list" infinite-scroll="reddit.weekNextPage(weekName)">
            <li class="li-list fn-clear" ng-repeat="item in reddit.weekItems">
                <div class="info">
                    <div class="fn-clear"><p class="fn-left">汇报人：<span class="red">{{item.createStaff}}</span></p><p class="fn-right">周期：<span class="red">{{item.beginDt}}~{{item.endDt}}</span></p></div>
                    <div class="fn-clear"><p class="fn-right">提交时间：<span class="red">{{item.createDt}}</span></p></div>
                </div>
                <div class="cnt">
                    <span class="title">工作总结</span>
                    <div class="cnt-wrds" ng-bind="item.completeContent"></div>
                </div>
                <div class="btns fn-right">
                    <button class="more-btn" ng-click="checkMoreWeek(item)">查看更多 <i class="iconfont">&#xe628;</i></button>
                    <button class="more-btn" ng-click="delWorkReportWeek(item)"><i class="iconfont">&#xe6a3;</i> 删除</button>
                </div>
            </li>
            <p class="text-center" ng-if="reddit.weekBusy">加载中...</p>
        </ul>
    </div>
    <!-- 月报查询 -->
    <div class="content" ng-show="flag === 2">
        <input type="text" class="txt-two" placeholder="请输入姓名关键字" ng-model="monthName">       
        <ul class="report-list" infinite-scroll="reddit.monthNextPage(monthName)">
            <li class="li-list fn-clear" ng-repeat="item in reddit.monthItems">
                <div class="info">
                    <div class="fn-clear"><p class="fn-left">汇报人：<span class="red">{{item.createStaff}}</span></p><p class="fn-right">周期：<span class="red">{{item.beginDt}}~{{item.endDt}}</span></p></div>
                    <div class="fn-clear"><p class="fn-right">提交时间：<span class="red">{{item.createDt}}</span></p></div>
                </div>
                <div class="cnt">
                    <span class="title">工作总结</span>
                    <div class="cnt-wrds" ng-bind="item.completeContent"></div>
                </div>
                <div class="btns fn-right">
                    <button class="more-btn" ng-click="checkMoreMonth(item)">查看更多 <i class="iconfont">&#xe628;</i></button>
                    <button class="more-btn" ng-click="delWorkReportMonth(item)"><i class="iconfont">&#xe6a3;</i> 删除</button>
                </div>
            </li>
            <p class="text-center" ng-if="reddit.monthBusy">加载中...</p>
        </ul>
    </div>
 
    <script src="../../resources/js/require.js" data-main="../../resources/js/requireConfig.js" id="page" current-page="../../resources/js/workReportQuery.js" target-module="workReportQueryModule"></script>
</body>
</html>
